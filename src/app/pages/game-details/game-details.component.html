<div
  *ngIf="isLoading(); else elseBlock"
  class="flex items-center gap-3 align-middle justify-center min-h-screen min-w-full bg-slate-100 dark:bg-slate-800 text-black dark:text-white"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    height="48"
    viewBox="0 -960 960 960"
    width="48"
    class="animate-spin"
  >
    <path
      class="fill-black dark:fill-slate-50"
      d="M480-80q-84 0-157-31t-127-85q-54-54-85-127T80-480q0-84 31-157t85-127q54-54 127-85t157-31q12 0 21 9t9 21q0 12-9 21t-21 9q-141 0-240.5 99.5T140-480q0 141 99.5 240.5T480-140q141 0 240.5-99.5T820-480q0-12 9-21t21-9q12 0 21 9t9 21q0 84-31 157t-85 127q-54 54-127 85T480-80Z"
    />
  </svg>
  <p class="text-black dark:text-white text-4xl">Loading...</p>
</div>

<ng-template #elseBlock>
  <div
    class="bg-slate-100 dark:bg-slate-800 text-black dark:text-white min-h-full flex"
  >
    <div class="flex flex-col">
      <button class="text-2xl">
        <i class="fa-solid fa-arrow-left"></i> Return
      </button>
      <app-image-carousel
        [images]="images"
        [autoSlide]="true"
      ></app-image-carousel>
    </div>
    <div>
      <h2>{{ gameDetails.name }}</h2>
      <div>
        <div
          *ngIf="
            _shoppingCartService.productExists(gameDetails.id);
            else elseAdded
          "
        >
          <div
            class="added-text flex self-start gap-2 items-center m-4 px-2 py-1 text-black dark:text-white"
          >
            Added<i class="fa-solid fa-check"></i>
          </div>
        </div>
        <ng-template #elseAdded>
          <button
            class="add-to-cart-button flex gap-2 items-center m-4 px-2 py-1 text-black dark:text-white rounded-xl"
            (click)="
              _shoppingCartService.addToCart(
                gameDetails.id,
                gameDetails.name,
                _shoppingCartService.getPrice(gameDetails),
                gameDetails.background_image
              )
            "
          >
            Add to cart <i class="fa-regular fa-plus"></i>
          </button>
        </ng-template>
      </div>
    </div>
  </div>
</ng-template>
